<table>
<% @allproducts.each do |product| %>
<tr>
<td><a href = "/products/<%= product.id %>"><%= product.name %></a></td>
<td><%= product.price %></td>
<td><%= product.description %></td>
<td><%= product.stock %></td>
<td><%= product.rating %></td>
<td><img src="<%= product.images.first.url %>"></td>
</tr>
<% end %>
</table>

<%= link_to "create new", "/products/new", method: :get %>
<%= link_to "discount only", "/products/?showall=no", method: :get %>
<%= link_to "showall", "/products", method: :get %>
<%= link_to "price ascending", "/products/?lowtohigh=true", method: :get %>
<%= link_to "price descending", "/products/?hightolow=true", method: :get %>
<%= link_to "random product", "/products/#{rand(1 + Product.count)}", method: :get %>

 <%= form_tag "/products/search", method: :get do %>
<div>
  <%= label_tag :search, "Search for product" %>
  <%= text_field_tag :search %>
</div>
<div>
  <%= submit_tag "find" %>
</div>
<% end %>

<!-- try link_to instead of a href -->